<component-dynamic-load-all items__from=":items">
	<component-tree-control-item item__from=":item" substitute__to=":substitute" />
</component-dynamic-load-all>


<script>
	self
		.establish ('tree', constant (
			self .impressions (args .items__from)
				.thru (dropRepeatsWith, json_equal)
		))
		.establish (':items', dependent (function () {
			return 	Object .keys (my ('tree')) .map (function (name) {
						return 	{
									name: name,
									status: my ('tree') [name]
								};
					});
		}, self .impressions ('tree')))
		
	self
		.remembers (':substitute')
		.impressions (':substitute')
			.thru (tap, function () {
				if (! json_equal (my ('tree') [my (':substitute') .item], my (':substitute') .sub))
					self .mention (args .items__to, with_ (my (':substitute') .item, my (':substitute') .sub) (my ('tree')))
			})
</script>